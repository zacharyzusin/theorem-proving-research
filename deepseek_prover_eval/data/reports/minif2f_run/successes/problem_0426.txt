Problem: problem_0426
Dataset: minif2f
Mode: noncot
First success attempt: 0
Generation time (s): 15.990273475646973
Lean check time (s): 4.30612850189209

==== Final Lean Code ====
import Mathlib

open Real Nat Topology
open scoped BigOperators

theorem amc12a_2003_p25
  (a b : ℝ)
  (f : ℝ → ℝ)
  (h₀ : 0 < b)
  (h₁ : ∀ x, f x = Real.sqrt (a * x^2 + b * x))
  (h₂ : {x | 0 ≤ f x} = f '' {x | 0 ≤ f x}) :
  a = 0 ∨ a = -4 := by
  have h₃ := h₂
  simp only [Set.ext_iff, h₁, Set.mem_setOf_eq, Set.mem_image] at h₃
  specialize h₃ (-1)
  simp at h₃
  have h₄ := h₃.mp (by positivity)
  obtain ⟨x, h₅, h₆⟩ := h₄
  have h₇ := h₆
  simp only [h₁, mul_one, mul_zero, zero_add, add_zero, Real.sqrt_eq_zero_of_nonpos] at h₇
  have h₈ := h₇
  nlinarith [Real.sqrt_nonneg (a * x ^ 2 + b * x), sq_nonneg (x + 1), sq_nonneg (x - 1),
    Real.sq_sqrt (show 0 ≤ a * x ^ 2 + b * x by nlinarith),
    sq_nonneg (a * x + b), sq_nonneg (a * x - b)]
